# pc2-worker stack environment template
# Copy to `.env` locally (kept out of git) and fill in secrets marked `__REPLACE_ME__`.

HOST_REPO=/home/chaba/repos
HOST_MODEL_DIR=/home/chaba/models
HOST_PIP_CACHE=/home/chaba/.cache/pip
HOST_SSH_AUTH_SOCK=/home/chaba/.ssh/ssh-agent.socket
HOST_STACKS_DIR=/home/chaba/chaba/stacks

VOICE_CHAT_REPO=C:/_dev/windsurf_ai/voice_chat

DEV_PROXY_CONFIG=./dev-proxy/Caddyfile
DEV_PROXY_CERTS=./dev-proxy/certs
DEV_PROXY_TARGET=host.docker.internal:3100
DEV_PROXY_DOMAIN=pc2.localtest.me
DEV_PROXY_CERT_FILE=/certs/pc2.localtest.me+2.pem
DEV_PROXY_KEY_FILE=/certs/pc2.localtest.me+2-key.pem
DEV_HOST_DOMAIN=dev-host.pc2
DEV_HOST_CERT_FILE=/certs/dev-host.pc2.pem
DEV_HOST_KEY_FILE=/certs/dev-host.pc2-key.pem

REDIS_PORT=6379
MCP_DOCKER_PORT=8340
MCP_TESTER_PORT=8330
MCP_PLAYWRIGHT_PORT=8025

ONE_MCP_HOST=0.0.0.0
ONE_MCP_PORT=3050
ONE_MCP_EXTERNAL_URL=http://127.0.0.1:3050
ONE_MCP_LOG_LEVEL=info
ONE_MCP_CONFIG=/app/mcp.json
ONE_MCP_CONFIG_FILE=./1mcp.json
ONE_MCP_WORKSPACE_HOST_DIR=C:/chaba

MCP0_PORT=8310
MCP0_ADMIN_TOKEN=__REPLACE_ME__
MCP_GLAMA_PORT=7214
GLAMA_API_URL=https://glama.ai/api/gateway/openai/v1/chat/completions
GLAMA_API_KEY=__REPLACE_ME__
GLAMA_MODEL=gpt-4o-mini
GLAMA_TEMPERATURE=0.2
GLAMA_MAX_TOKENS=900
GLAMA_TIMEOUT_SECONDS=30
MCP_MEETING_PORT=7208
MEETING_STT_URL=
MEETING_STT_HEALTH_PATH=/health
MEETING_MAX_SEGMENTS=1500
MEETING_SUMMARY_MAX_ENTRIES=20
MEETING_DEFAULT_LANGUAGE=
MEETING_DEFAULT_WHISPER_MODEL=
MEETING_STORAGE_ROOT=./data/meeting
MEETING_STORAGE_PATH=/data/meetings.json
MCP_INSTRANS_PORT=7216
INSTRANS_STT_URL=
INSTRANS_DEFAULT_LANG=en
INSTRANS_ALLOWED_ORIGIN=*
INSTRANS_SUMMARY_SENTENCES=3
INSTRANS_SSE_HEARTBEAT_MS=15000
INSTRANS_AUDIO_CHUNK_LIMIT=5242880
INSTRANS_ENABLE_TRANSLATION=true
INSTRANS_ENABLE_SUMMARY=true
INSTRANS_JSON_LIMIT=4mb
INSTRANS_URLENCODED_LIMIT=4mb
INSTRANS_MAX_TRANSCRIPTS=200

MCP_AGENTS_BUILD_CONTEXT=../../mcp/mcp-agents
MCP_AGENTS_PORT=8046
AGENTS_API_BASE=https://dev-host.pc2/test/agents/api
AGENTS_DEFAULT_USER=default
AGENTS_DEFAULT_LIMIT=12
AGENTS_JSON_LIMIT=2mb
MCP_AGENTS_DATA_DIR=./data/mcp-agents
MCP_PLAYWRIGHT_BUILD_CONTEXT=../../mcp/mcp-playwright
MCP_PLAYWRIGHT_SCENARIOS_DIR=../../mcp/mcp-playwright/scenarios
MCP_PLAYWRIGHT_OUTPUT_DIR=./data/mcp-playwright/output

WEBTOPS_ROUTER_BUILD_CONTEXT=../../mcp/webtops-router
WEBTOPS_ROUTER_PORT=3001
WEBTOPS_ROUTER_ADMIN_TOKEN=__REPLACE_ME__
WEBTOPS_ROUTER_STATE_DIR=./data/webtops-router

MCP_WEBTOPS_BUILD_CONTEXT=../../mcp/mcp-webtops
MCP_WEBTOPS_PORT=8091
WEBTOPS_ADMIN_TOKEN=__REPLACE_ME__
WEBTOPS_PUBLIC_BASE_URL=http://dev-host.pc2:3001/webtop/
WEBTOPS_BASE_PATH=/webtop/
WEBTOPS_BACKEND=docker
WEBTOPS_DOCKER_NETWORK=pc2-worker_pc2-worker-net
WEBTOPS_SESSION_INTERNAL_PORT=3000
WEBTOPS_SESSION_IMAGE=lscr.io/linuxserver/webtop:latest
WEBTOPS_SESSION_IMAGE_PULL=true
WEBTOPS_SESSION_UPSTREAM_SCHEME=http
WEBTOPS_SESSION_MOUNT_PATH=/config
WEBTOPS_SESSION_TZ=Asia/Bangkok
WEBTOPS_SESSION_PUID=1000
WEBTOPS_SESSION_PGID=1000
WEBTOPS_SESSION_PASSWORD=

# Windsurf profile (runtime download pinned version into /config)
WEBTOPS_SESSION_IMAGE_WINDSURF=webtops-windsurf-runtime:stable
WEBTOPS_WINDSURF_VERSION=1.12.47
WEBTOPS_WINDSURF_INSTALL_MODE=deb_extract
WEBTOPS_WINDSURF_DEB_URL_TEMPLATE=https://windsurf-stable.codeiumdata.com/wVxQEIWkwPUEAGf3/apt/pool/main/w/windsurf/Windsurf-linux-x64-{version}.deb

# Windsurf shared cache (download once per host; reused across sessions)
WEBTOPS_WINDSURF_CACHE_VOLUME=webtops_windsurf_cache
WEBTOPS_WINDSURF_CACHE_MOUNT_PATH=/windsurf-cache

# Shared workspaces volume (mounted into every session)
WEBTOPS_WORKSPACES_VOLUME=webtops_workspaces
WEBTOPS_WORKSPACES_MOUNT_PATH=/workspaces

# Optional: auto clone/pull repo into the workspaces volume on session startup
WEBTOPS_WORKSPACES_REPO_URL=
WEBTOPS_WORKSPACES_REPO_BRANCH=
WEBTOPS_WORKSPACES_REPO_DIR=/workspaces/chaba

# Optional AppImage mode (if you prefer):
# WEBTOPS_WINDSURF_INSTALL_MODE=appimage
# WEBTOPS_WINDSURF_DOWNLOAD_URL_TEMPLATE=__PINNED_URL_WITH_{version}__
WEBTOPS_SNAPSHOT_HOST_DIR=./data/mcp-webtops/snapshots
WEBTOPS_STATE_HOST_DIR=./data/mcp-webtops/state

WEBTOPS_CP_BUILD_CONTEXT=../../mcp/webtops-cp
WEBTOPS_CP_PORT=3005
WEBTOPS_CP_USERNAME=admin
WEBTOPS_CP_PASSWORD=__REPLACE_ME__

MCP0_PROVIDERS=mcp-docker:http://mcp-docker:${MCP_DOCKER_PORT}|health=/health|capabilities=/.well-known/mcp.json|tools=create-container+deploy-compose+get-logs+list-containers+compose-control,mcp-glama:http://mcp-glama:8014|health=/health|capabilities=/.well-known/mcp.json|tools=chat_completion,mcp-meeting:http://mcp-meeting:8008|health=/health|capabilities=/.well-known/mcp.json|tools=start_meeting+end_meeting+append_transcript+ingest_audio_chunk+get_meeting_notes+summarize_meeting+list_sessions,mcp-instrans:http://mcp-instrans:3100|health=/health|capabilities=/.well-known/mcp.json|tools=start_session+list_sessions+ingest_audio_base64,mcp-vaja:http://mcp-vaja:8017|health=/health|capabilities=/.well-known/mcp.json|tools=synthesize_speech,mcp-agents-pc1:https://dev-host.pc1/test/agents/api|health=/health|capabilities=/.well-known/mcp.json|tools=fetch_sessions+fetch_archives+observability_probe+relay_prompt,mcp-agents-pc2:https://dev-host.pc2/test/agents/api|health=/health|capabilities=/.well-known/mcp.json|tools=fetch_sessions+fetch_archives+observability_probe+relay_prompt,mcp-imagen:http://mcp-imagen-gpu:8001|health=/health|capabilities=/.well-known/mcp.json|tools=generate_image,mcp-playwright:http://mcp-playwright:${MCP_PLAYWRIGHT_PORT}|health=/health|capabilities=/.well-known/mcp.json|tools=capture_screenshot+browser_probe+run_scenario,mcp-webtops:http://mcp-webtops:${MCP_WEBTOPS_PORT}|health=/health|capabilities=/.well-known/mcp.json|tools=health+capabilities+list_users+get_user+upsert_user+list_sessions+start_session+get_session+stop_session+extend_session_ttl+delete_session+reap_expired_sessions+list_snapshots+create_snapshot+get_snapshot+restore_snapshot+promote_snapshot+delete_snapshot+export_snapshot+import_snapshot+get_logs+exec+get_routes

AI4THAI_API_KEY=__REPLACE_ME__
VAJA_API_KEY=__REPLACE_ME__
